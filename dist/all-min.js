const regForm=document.getElementById("regForm"),regStatus=document.getElementById("regStatus"),tim=new Date(2022,7,31),differ=tim-new Date;differ<=0&&(document.querySelector(".submit").remove(),regStatus.innerHTML="Sorry, but timer is out"),regForm.addEventListener("submit",e=>{e.preventDefault(),regStatus.classList.remove("warning");const t=Object.fromEntries(new FormData(e.target).entries()),n=new XMLHttpRequest;n.open("POST","http://localhost:3000/regform"),n.responseType="json",n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){4==this.readyState&&(console.log(typeof this.response),this.response.error&&regStatus.classList.add("warning"),regStatus.innerText=this.response.message)},n.send(JSON.stringify(t))}),document.addEventListener("DOMContentLoaded",function(){const e=new Date(2022,7,31);let t=null;function n(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}function r(){const r=e-new Date;r<=0&&clearInterval(t);const u=r>0?Math.floor(r/1e3/60/60/24):0,c=r>0?Math.floor(r/1e3/60/60)%24:0,d=r>0?Math.floor(r/1e3/60)%60:0,l=r>0?Math.floor(r/1e3)%60:0;o.textContent=u<10?"0"+u:u,s.textContent=c<10?"0"+c:c,a.textContent=d<10?"0"+d:d,i.textContent=l<10?"0"+l:l,o.dataset.title=n(u,["день","дня","дней"]),s.dataset.title=n(c,["час","часа","часов"]),a.dataset.title=n(d,["минута","минуты","минут"]),i.dataset.title=n(l,["секунда","секунды","секунд"])}const o=document.querySelector(".timer__days"),s=document.querySelector(".timer__hours"),a=document.querySelector(".timer__minutes"),i=document.querySelector(".timer__seconds");r(),t=setInterval(r,1e3)});